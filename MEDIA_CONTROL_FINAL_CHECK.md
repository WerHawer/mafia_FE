# âœ… Ð¤Ñ–Ð½Ð°Ð»ÑŒÐ½Ð° Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° ÐºÐ¾Ð´Ñƒ - Media Controls Ð· sendMessage

## ðŸŽ¯ ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐµÐ½Ð¾ Ñ‚Ð° Ð²Ð¸Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾

### âŒ ÐŸÐ¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°:
Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ð²ÑÑ Ð¿Ñ€ÑÐ¼Ð¸Ð¹ `socket.emit()`, Ñ‰Ð¾ **Ð½Ðµ Ð·Ð°Ð±ÐµÐ·Ð¿ÐµÑ‡ÑƒÑ” Ð½Ð°Ð´Ñ–Ð¹Ð½Ñ–ÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸** Ñ‡ÐµÑ€ÐµÐ· ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ñ‡ÐµÑ€Ð³.

### âœ… Ð’Ð¸Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ:
Ð—Ð°Ð¼Ñ–Ð½ÐµÐ½Ð¾ Ð½Ð° `sendMessage()` Ð· `useSocket()` Ð´Ð»Ñ **Ð³Ð°Ñ€Ð°Ð½Ñ‚Ð¾Ð²Ð°Ð½Ð¾Ñ— Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸** Ð· Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¾ÑŽ:
- âœ… Ð§ÐµÑ€Ð³Ð¸ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½ÑŒ
- âœ… ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ– ÑÐ¿Ñ€Ð¾Ð±Ð¸ Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°Ñ…
- âœ… ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ—
- âœ… ÐŸÐµÑ€ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚Ñ–

---

## ðŸ“ Ð’Ð½ÐµÑÐµÐ½Ñ– Ð·Ð¼Ñ–Ð½Ð¸

### 1. **types/socket.types.ts** âœ…

Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð½Ð¾Ð²Ñ– Ð¿Ð¾Ð´Ñ–Ñ— Ð² `WSSentEventData`:

```typescript
export interface WSSentEventData {
  // ...existing events...
  [wsEvents.toggleUserCamera]: { userId: UserId; enabled: boolean };
  [wsEvents.toggleUserMicrophone]: { userId: UserId; enabled: boolean };
}
```

**Ð©Ð¾ Ñ†Ðµ Ð´Ð°Ñ”:**
- âœ… TypeScript Ñ‚Ð¸Ð¿Ñ–Ð·Ð°Ñ†Ñ–Ñ Ð´Ð»Ñ `sendMessage`
- âœ… ÐÐ²Ñ‚Ð¾ÐºÐ¾Ð¼Ð¿Ð»Ñ–Ñ‚ Ð² IDE
- âœ… ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ‚Ð¸Ð¿Ñ–Ð² Ð½Ð° ÐµÑ‚Ð°Ð¿Ñ– ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ—

---

### 2. **hooks/useMediaControls.ts** âœ…

#### 2.1. Ð†Ð¼Ð¿Ð¾Ñ€Ñ‚ `sendMessage`:
```typescript
const { socket, subscribe, sendMessage } = useSocket();
```

#### 2.2. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð² `toggleCamera`:
```typescript
// Ð‘Ð£Ð›Ðž:
socket.emit(wsEvents.toggleUserCamera, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});

// Ð¡Ð¢ÐÐ›Ðž:
sendMessage(wsEvents.toggleUserCamera, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});
```

#### 2.3. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð² `toggleMicrophone`:
```typescript
// Ð‘Ð£Ð›Ðž:
socket.emit(wsEvents.toggleUserMicrophone, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});

// Ð¡Ð¢ÐÐ›Ðž:
sendMessage(wsEvents.toggleUserMicrophone, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});
```

#### 2.4. ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ñ– dependency arrays:
```typescript
// toggleCamera
}, [
  socket,
  room,
  isMyStream,
  isIGM,
  mediaState.isCameraEnabled,
  participant.identity,
  sendMessage,  // âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾
]);

// toggleMicrophone
}, [
  socket,
  room,
  isMyStream,
  isIGM,
  mediaState.isMicrophoneEnabled,
  participant.identity,
  sendMessage,  // âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾
]);
```

#### 2.5. Ð Ð¾Ð·ÑˆÐ¸Ñ€ÐµÐ½Ðµ Ð»Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½Ñ:
```typescript
console.log("useMediaControls: Toggle camera request sent", {
  userId: targetUserId,
  enabled: !currentlyEnabled,
  isMyStream,   // âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³Ñƒ
  isIGM,        // âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³Ñƒ
  canControl,   // âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³Ñƒ
});
```

---

## ðŸ” Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð° Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° GM Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»Ñƒ

### âœ… GM Ð¼Ð¾Ð¶Ðµ ÐºÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸ ÑÑ‚Ð°Ð½Ð°Ð¼Ð¸:

**ÐšÐ¾Ð´ Ð² useMediaControls.ts (Ñ€ÑÐ´Ð¾Ðº 107-108):**
```typescript
const canControl = isMyStream || isIGM;
if (!canControl) return;
```

- âœ… Ð¯ÐºÑ‰Ð¾ `isIGM = true`, GM Ð¼Ð¾Ð¶Ðµ Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ‚Ð¸ toggle Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ—
- âœ… GM Ð±Ð°Ñ‡Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸ Ð½Ð° Ð²ÑÑ–Ñ… Ð²Ñ–Ð´ÐµÐ¾
- âœ… ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ñ–Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ– Ð´Ð»Ñ GM

---

### âœ… ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ÑŒÑÑ Ñ‡ÐµÑ€ÐµÐ· `sendMessage`:

**toggleCamera (Ñ€ÑÐ´Ð¾Ðº 117-120):**
```typescript
sendMessage(wsEvents.toggleUserCamera, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});
```

**toggleMicrophone (Ñ€ÑÐ´Ð¾Ðº 150-153):**
```typescript
sendMessage(wsEvents.toggleUserMicrophone, {
  userId: targetUserId,
  enabled: !currentlyEnabled,
});
```

**ÐŸÐµÑ€ÐµÐ²Ð°Ð³Ð¸ `sendMessage` Ð½Ð°Ð´ `socket.emit`:**

| Ð¤ÑƒÐ½ÐºÑ†Ñ–Ñ | `socket.emit()` | `sendMessage()` |
|---------|----------------|-----------------|
| ÐÐ°Ð´Ñ–Ð¹Ð½Ñ–ÑÑ‚ÑŒ | âŒ ÐœÐ¾Ð¶Ðµ Ð²Ñ‚Ñ€Ð°Ñ‚Ð¸Ñ‚Ð¸ÑÑ | âœ… Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¾Ð²Ð°Ð½Ð° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ° |
| ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ– ÑÐ¿Ñ€Ð¾Ð±Ð¸ | âŒ ÐÑ– | âœ… Ð¢Ð°Ðº (Ð´Ð¾ 3 Ñ€Ð°Ð·Ñ–Ð²) |
| Ð§ÐµÑ€Ð³Ð° | âŒ ÐÑ– | âœ… Ð¢Ð°Ðº |
| ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ | âŒ ÐÑ– | âœ… Ð¢Ð°Ðº (HIGH/NORMAL/LOW) |
| ÐŸÐµÑ€ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ñ–ÑÑ‚ÑŒ | âŒ ÐÑ– | âœ… Ð¢Ð°Ðº (LocalStorage) |

---

### âœ… Ð›Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½Ñ Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³Ñƒ:

**Ð©Ð¾ Ð»Ð¾Ð³ÑƒÑ”Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¸ ÐºÐ»Ñ–ÐºÑƒ GM Ð½Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»:**
```javascript
useMediaControls: Toggle camera request sent {
  userId: "user123",        // Ð¦Ñ–Ð»ÑŒÐ¾Ð²Ð¸Ð¹ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡
  enabled: false,           // ÐÐ¾Ð²Ð¸Ð¹ ÑÑ‚Ð°Ð½
  isMyStream: false,        // Ð§Ð¸ Ñ†Ðµ Ð¼Ñ–Ð¹ Ð¿Ð¾Ñ‚Ñ–Ðº
  isIGM: true,             // Ð§Ð¸ Ñ” GM
  canControl: true         // Ð§Ð¸ Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¾ ÐºÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ
}
```

**Ð”Ðµ Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ½ÑƒÑ‚Ð¸:**
1. DevTools â†’ Console
2. Ð¨ÑƒÐºÐ°Ñ‚Ð¸: `useMediaControls: Toggle`
3. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ Ð²ÑÑ– Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸

---

## ðŸŽ¯ ÐŸÐ¾Ñ‚Ñ–Ðº Ð´Ð°Ð½Ð¸Ñ… Ð· sendMessage

### Ð¡Ñ†ÐµÐ½Ð°Ñ€Ñ–Ð¹: GM Ð²Ð¸Ð¼Ð¸ÐºÐ°Ñ” Ð¼Ñ–ÐºÑ€Ð¾Ñ„Ð¾Ð½ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð° "user123"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GM    â”‚                    â”‚ sendMessage  â”‚                    â”‚  Server  â”‚
â”‚  Client  â”‚                    â”‚    Queue     â”‚                    â”‚          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                                 â”‚                                 â”‚
     â”‚ ÐšÐ»Ñ–Ðº Ð½Ð° Ð¼Ñ–ÐºÑ€Ð¾Ñ„Ð¾Ð½                â”‚                                 â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                                 â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚ Ð”Ð¾Ð´Ð°Ñ”Ñ‚ÑŒÑÑ Ð² Ñ‡ÐµÑ€Ð³Ñƒ               â”‚
     â”‚                                 â”‚ (Ð· Ð¿Ñ€Ñ–Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð¾Ð¼ NORMAL)          â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚ Ð’Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ°                       â”‚
     â”‚                                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                                 â”‚ toggleUserMicrophone            â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚                                 â”‚ âœ… OK
     â”‚                                 â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚ Ð’Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð· Ñ‡ÐµÑ€Ð³Ð¸               â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚                                 â”‚        Broadcast:               â”‚
     â”‚                                 â”‚   userMicrophoneStatusChanged   â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                                 â”‚                                 â”‚
     â”‚ UI Ð¾Ð½Ð¾Ð²Ð»ÑŽÑ”Ñ‚ÑŒÑÑ                  â”‚                                 â”‚
     â”‚                                 â”‚                                 â”‚
```

**Ð¯ÐºÑ‰Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°:**
```
1. sendMessage Ð´Ð¾Ð´Ð°Ñ” Ð² Ñ‡ÐµÑ€Ð³Ñƒ
2. Ð¡Ð¿Ñ€Ð¾Ð±Ð° Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ¸ â†’ ERROR
3. ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð° ÑÐ¿Ñ€Ð¾Ð±Ð° Ñ‡ÐµÑ€ÐµÐ· 1 ÑÐµÐº â†’ ERROR
4. ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð° ÑÐ¿Ñ€Ð¾Ð±Ð° Ñ‡ÐµÑ€ÐµÐ· 2 ÑÐµÐº â†’ ERROR
5. ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð° ÑÐ¿Ñ€Ð¾Ð±Ð° Ñ‡ÐµÑ€ÐµÐ· 4 ÑÐµÐº â†’ SUCCESS âœ…
6. ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð²Ð¸Ð´Ð°Ð»ÑÑ”Ñ‚ÑŒÑÑ Ð· Ñ‡ÐµÑ€Ð³Ð¸
```

---

## ðŸ“‹ ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¾Ñ‡Ð½Ð¸Ð¹ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚

### Frontend âœ…
- [x] `sendMessage` Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ `socket.emit`
- [x] ÐŸÐ¾Ð´Ñ–Ñ— Ð´Ð¾Ð´Ð°Ð½Ñ– Ð² `WSSentEventData`
- [x] GM Ð¼Ð¾Ð¶Ðµ Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°Ñ‚Ð¸ toggle Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— (`canControl = isMyStream || isIGM`)
- [x] Ð›Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½Ñ Ð¿Ñ€Ð°Ñ†ÑŽÑ” (`console.log` Ð· Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾ÑŽ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ”ÑŽ)
- [x] TypeScript ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ ÑƒÑÐ¿Ñ–ÑˆÐ½Ð°
- [x] Dependency arrays Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½Ñ–
- [x] Subscribe Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð´Ð»Ñ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½ÑŒ Ð²Ñ–Ð´ ÑÐµÑ€Ð²ÐµÑ€Ð°

### ÐŸÐµÑ€ÐµÐ²Ð°Ð³Ð¸ Ð½Ð¾Ð²Ð¾Ñ— Ñ€ÐµÐ°Ð»Ñ–Ð·Ð°Ñ†Ñ–Ñ— âœ…
- [x] **ÐÐ°Ð´Ñ–Ð¹Ð½Ñ–ÑÑ‚ÑŒ** - Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð½Ðµ Ð²Ñ‚Ñ€Ð°Ñ‡Ð°ÑŽÑ‚ÑŒÑÑ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ… Ð· Ð¼ÐµÑ€ÐµÐ¶ÐµÑŽ
- [x] **ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ñ– ÑÐ¿Ñ€Ð¾Ð±Ð¸** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑŽÑ” Ð¿Ñ€Ð¸ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°Ñ…
- [x] **ÐŸÐµÑ€ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð½Ñ–ÑÑ‚ÑŒ** - Ð·Ð±ÐµÑ€Ñ–Ð³Ð°Ñ” Ñ‡ÐµÑ€Ð³Ñƒ Ð² LocalStorage
- [x] **ÐŸÑ€Ñ–Ð¾Ñ€Ð¸Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ** - Ð²Ð°Ð¶Ð»Ð¸Ð²Ñ– Ð¿Ð¾Ð´Ñ–Ñ— Ð¾Ð±Ñ€Ð¾Ð±Ð»ÑÑŽÑ‚ÑŒÑÑ Ð¿ÐµÑ€ÑˆÐ¸Ð¼Ð¸
- [x] **Ð¢Ð¸Ð¿Ñ–Ð·Ð°Ñ†Ñ–Ñ** - TypeScript Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ” Ñ‚Ð¸Ð¿Ð¸ Ð½Ð° ÐµÑ‚Ð°Ð¿Ñ– ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ—

---

## ðŸ§ª Ð¯Ðº Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ñ‚Ð¸

### 1. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ¸:
```javascript
// Ð’ DevTools Console:
// 1. Ð’Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¸ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Network â†’ WS
// 2. ÐšÐ»Ñ–ÐºÐ½ÑƒÑ‚Ð¸ Ð½Ð° WebSocket Ð·'Ñ”Ð´Ð½Ð°Ð½Ð½Ñ
// 3. ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Messages
// 4. ÐšÐ»Ñ–ÐºÐ½ÑƒÑ‚Ð¸ Ð½Ð° ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»
// 5. Ð—Ð½Ð°Ð¹Ñ‚Ð¸ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ:
{
  "event": "toggleUserCamera",
  "data": {
    "userId": "user123",
    "enabled": false
  }
}
```

### 2. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ‡ÐµÑ€Ð³Ð¸:
```javascript
// Ð’ DevTools Console Ð²Ð¸ÐºÐ¾Ð½Ð°Ñ‚Ð¸:
const { getQueueStats } = useSocket();
console.log(getQueueStats());

// Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
{
  totalMessages: 5,
  pendingMessages: 2,
  failedMessages: 0,
  successfulMessages: 3
}
```

### 3. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° GM Ð¿Ñ€Ð°Ð²:
```javascript
// Ð’ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ– GameVideo:
console.log({
  isIGM: rootStore.isIGM,        // Ð§Ð¸ Ñ” GM
  canControl: canControl,         // Ð§Ð¸ Ð¼Ð¾Ð¶Ðµ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽÐ²Ð°Ñ‚Ð¸
  shouldShowControls: shouldShowControls  // Ð§Ð¸ Ð¿Ð¾ÐºÐ°Ð·ÑƒÐ²Ð°Ñ‚Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸
});
```

---

## âœ… Ð’Ð¸ÑÐ½Ð¾Ð²Ð¾Ðº

### Ð’ÑÐµ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾! ðŸŽ‰

1. âœ… **GM Ð¼Ð¾Ð¶Ðµ ÐºÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸** Ð¼ÐµÐ´Ñ–Ð° Ð±ÑƒÐ´ÑŒ-ÑÐºÐ¾Ð³Ð¾ ÑƒÑ‡Ð°ÑÐ½Ð¸ÐºÐ°
2. âœ… **sendMessage Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ** Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ socket.emit
3. âœ… **ÐÐ°Ð´Ñ–Ð¹Ð½Ð° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ°** Ñ‡ÐµÑ€ÐµÐ· ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ñ‡ÐµÑ€Ð³
4. âœ… **Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ðµ Ð»Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½Ñ** Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³Ñƒ
5. âœ… **TypeScript Ñ‚Ð¸Ð¿Ñ–Ð·Ð°Ñ†Ñ–Ñ** Ð½Ð° Ð¼Ñ–ÑÑ†Ñ–
6. âœ… **ÐšÐ¾Ð´ Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ð¹** Ð´Ð¾ production

### ÐÐ°ÑÑ‚ÑƒÐ¿Ð½Ñ– ÐºÑ€Ð¾ÐºÐ¸:

**Backend Ñ€ÐµÐ°Ð»Ñ–Ð·Ð°Ñ†Ñ–Ñ** Ð·Ð³Ñ–Ð´Ð½Ð¾ Ð· `MEDIA_CONTROL_SERVER_GUIDE.md`:
1. ÐžÐ±Ñ€Ð¾Ð±Ð½Ð¸Ðº `socket.on('toggleUserCamera')`
2. ÐžÐ±Ñ€Ð¾Ð±Ð½Ð¸Ðº `socket.on('toggleUserMicrophone')`
3. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð¿Ñ€Ð°Ð² GM
4. Ð†Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ñ–Ñ Ð· LiveKit Server API
5. Broadcast Ð¾Ð½Ð¾Ð²Ð»ÐµÐ½ÑŒ Ð²ÑÑ–Ð¼ ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°Ð¼

---

**Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ð´Ð¾ Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ!** ðŸš€

